{"ast":null,"code":"'use strict';\n\nexports.type = 'perItemReverse';\nexports.active = true;\nexports.description = 'moves elements attributes to the existing group wrapper';\nvar inheritableAttrs = require('./_collections').inheritableAttrs,\n  pathElems = require('./_collections.js').pathElems;\n\n/**\n * Collapse content's intersected and inheritable\n * attributes to the existing group wrapper.\n *\n * @example\n * <g attr1=\"val1\">\n *     <g attr2=\"val2\">\n *         text\n *     </g>\n *     <circle attr2=\"val2\" attr3=\"val3\"/>\n * </g>\n *              ⬇\n * <g attr1=\"val1\" attr2=\"val2\">\n *     <g>\n *         text\n *     </g>\n *    <circle attr3=\"val3\"/>\n * </g>\n *\n * @param {Object} item current iteration item\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\nexports.fn = function (item) {\n  if (item.isElem('g') && !item.isEmpty() && item.content.length > 1) {\n    var intersection = {},\n      hasTransform = false,\n      intersected = item.content.every(function (inner) {\n        if (inner.isElem() && inner.hasAttr()) {\n          if (!Object.keys(intersection).length) {\n            intersection = inner.attrs;\n          } else {\n            intersection = intersectInheritableAttrs(intersection, inner.attrs);\n            if (!intersection) return false;\n          }\n          return true;\n        }\n      }),\n      allPath = item.content.every(function (inner) {\n        return inner.isElem(pathElems);\n      });\n    if (intersected) {\n      item.content.forEach(function (g) {\n        for (var name in intersection) {\n          if (!allPath || name !== 'transform') {\n            g.removeAttr(name);\n            if (name === 'transform') {\n              if (!hasTransform) {\n                if (item.hasAttr('transform')) {\n                  item.attr('transform').value += ' ' + intersection[name].value;\n                } else {\n                  item.addAttr(intersection[name]);\n                }\n                hasTransform = true;\n              }\n            } else {\n              item.addAttr(intersection[name]);\n            }\n          }\n        }\n      });\n    }\n  }\n};\n\n/**\n * Intersect inheritable attributes.\n *\n * @param {Object} a first attrs object\n * @param {Object} b second attrs object\n *\n * @return {Object} intersected attrs object\n */\nfunction intersectInheritableAttrs(a, b) {\n  var c = {};\n  for (var n in a) {\n    if (b.hasOwnProperty(n) && inheritableAttrs.indexOf(n) > -1 && a[n].name === b[n].name && a[n].value === b[n].value && a[n].prefix === b[n].prefix && a[n].local === b[n].local) {\n      c[n] = a[n];\n    }\n  }\n  if (!Object.keys(c).length) return false;\n  return c;\n}","map":{"version":3,"names":["exports","type","active","description","inheritableAttrs","require","pathElems","fn","item","isElem","isEmpty","content","length","intersection","hasTransform","intersected","every","inner","hasAttr","Object","keys","attrs","intersectInheritableAttrs","allPath","forEach","g","name","removeAttr","attr","value","addAttr","a","b","c","n","hasOwnProperty","indexOf","prefix","local"],"sources":["C:/Users/SashinTulsiram/Documents/Software/react-frontend-bulma/node_modules/svgo/plugins/moveElemsAttrsToGroup.js"],"sourcesContent":["'use strict';\n\nexports.type = 'perItemReverse';\n\nexports.active = true;\n\nexports.description = 'moves elements attributes to the existing group wrapper';\n\nvar inheritableAttrs = require('./_collections').inheritableAttrs,\n    pathElems = require('./_collections.js').pathElems;\n\n/**\n * Collapse content's intersected and inheritable\n * attributes to the existing group wrapper.\n *\n * @example\n * <g attr1=\"val1\">\n *     <g attr2=\"val2\">\n *         text\n *     </g>\n *     <circle attr2=\"val2\" attr3=\"val3\"/>\n * </g>\n *              ⬇\n * <g attr1=\"val1\" attr2=\"val2\">\n *     <g>\n *         text\n *     </g>\n *    <circle attr3=\"val3\"/>\n * </g>\n *\n * @param {Object} item current iteration item\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\nexports.fn = function(item) {\n\n    if (item.isElem('g') && !item.isEmpty() && item.content.length > 1) {\n\n        var intersection = {},\n            hasTransform = false,\n            intersected = item.content.every(function(inner) {\n                if (inner.isElem() && inner.hasAttr()) {\n                    if (!Object.keys(intersection).length) {\n                        intersection = inner.attrs;\n                    } else {\n                        intersection = intersectInheritableAttrs(intersection, inner.attrs);\n\n                        if (!intersection) return false;\n                    }\n\n                    return true;\n                }\n            }),\n            allPath = item.content.every(function(inner) {\n                return inner.isElem(pathElems);\n            });\n\n        if (intersected) {\n\n            item.content.forEach(function(g) {\n\n                for (var name in intersection) {\n\n                    if (!allPath || name !== 'transform') {\n\n                        g.removeAttr(name);\n\n                        if (name === 'transform') {\n                            if (!hasTransform) {\n                                if (item.hasAttr('transform')) {\n                                    item.attr('transform').value += ' ' + intersection[name].value;\n                                } else {\n                                    item.addAttr(intersection[name]);\n                                }\n\n                                hasTransform = true;\n                            }\n                        } else {\n                            item.addAttr(intersection[name]);\n                        }\n\n                    }\n                }\n\n            });\n\n        }\n\n    }\n\n};\n\n/**\n * Intersect inheritable attributes.\n *\n * @param {Object} a first attrs object\n * @param {Object} b second attrs object\n *\n * @return {Object} intersected attrs object\n */\nfunction intersectInheritableAttrs(a, b) {\n\n    var c = {};\n\n    for (var n in a) {\n        if (\n            b.hasOwnProperty(n) &&\n            inheritableAttrs.indexOf(n) > -1 &&\n            a[n].name === b[n].name &&\n            a[n].value === b[n].value &&\n            a[n].prefix === b[n].prefix &&\n            a[n].local === b[n].local\n        ) {\n            c[n] = a[n];\n        }\n    }\n\n    if (!Object.keys(c).length) return false;\n\n    return c;\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}